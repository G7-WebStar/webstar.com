<div class="row mt-3">
    <div class="mx-1 mb-3">
        <div class="col-12 card p-2 d-flex flex-column flex-sm-row align-items-center justify-content-between"
            style="border: 1px solid var(--black); border-radius: 20px;">

            <!-- Left Side: Profile + Info -->
            <div class="d-flex flex-column flex-sm-row align-items-center text-center text-sm-start ">

                <!-- Profile Picture as Card -->
                <div class="card d-flex justify-content-center align-items-center"
                    style="width:83px; height:85px; border-radius:15px; overflow:hidden; border:1px solid var(--black); background-color:var(--black); margin:12px;">
                    <img src="" style="object-fit:cover; border-radius:15px;">
                </div>

                <!-- User Info -->
                <div>
                    <div class="text-bold text-18">Christian James D. Torrillo</div>
                    <div class="text-med text-muted text-12">@jamesdoe</div>
                    <div class="text-med text-12">2022-01234-ST-0</div>
                    <div class="text-med text-12">BSIT 3-1</div>
                </div>
            </div>

            <!-- Right Side: Rank + XP -->
            <div class="text-center align-items-center justify-content-center text-sm-end mt-3 mt-sm-0 mb-3 mb-sm-0"
                style="line-height: 1.2; margin-right: 15px;">
                <div class="text-bold text-25">4th</div>
                <div class="text-bold text-22">3160 XPs</div>
                <div class="text-med text-18">All-time Rank</div>
            </div>
        </div>
    </div>

    <div class="row ms-2 justify-content-center align-items-center mt-3 text-center">
        <!-- On-Time Submissions -->
        <div class="col-12 col-sm-6 mb-3 mb-sm-0 d-flex flex-column align-items-center">
            <div class="percent d-flex justify-content-center align-items-center text-sbold text-20">
                <img src="shared/assets/img/check.png" alt="check" style="width:15px; height:18px; margin-right:6px;">
                <span>100%</span>
            </div>
            <div class="title text-sbold text-16">On-Time Submissions</div>
            <div class="sub text-reg text-12">Percentage of tasks and exams submitted on time.</div>
        </div>

        <!-- Overall Performance -->
        <div class="col-12 col-sm-6 d-flex flex-column align-items-center">
            <div class="percent d-flex justify-content-center align-items-center text-sbold text-20">
                <img src="shared/assets/img/performance.png" alt="performance"
                    style="width:15px; height:18px; margin-right:6px;">
                <span>100%</span>
            </div>
            <div class="title text-sbold text-16">Overall Performance</div>
            <div class="sub text-reg text-12">Based on your submission rate and scores in tasks and exams.</div>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-12">
            <div class="text-med text-20 my-3">
                Record
            </div>

        </div>
    </div>

    <div class="row ">
        <div class="col-12">
            <!-- Card wrapper -->
            <div class="card d-none d-md-block"
                style="border: 1px solid var(--black); border-radius: 10px; overflow: hidden; width: 620px;">

                <!-- Table -->
                <div class="table-responsive d-none d-md-block">
                    <table class="table mb-0" style="width: 618px;">
                        <thead>
                            <tr class="text-med text-12">
                                <th
                                    style="background-color: var(--primaryColor); border-right:1px solid var(--black); border-bottom:1px solid var(--black); font-weight: normal; width:25%;">
                                    <span class="material-symbols-outlined"
                                        style="font-size:13px; vertical-align:middle; margin-right:4px;">calendar_today</span>
                                    Date
                                </th>
                                <th
                                    style="background-color: var(--primaryColor); border-right:1px solid var(--black); border-bottom:1px solid var(--black); font-weight: normal; width:25%;">
                                    <span class="material-symbols-outlined"
                                        style="font-size:13px; vertical-align:middle; margin-right:4px;">notes</span>
                                    Title
                                </th>
                                <th
                                    style="background-color: var(--primaryColor); border-right:1px solid var(--black); border-bottom:1px solid var(--black); font-weight: normal; width:25%;">
                                    <span class="material-symbols-outlined"
                                        style="font-size:13px; vertical-align:middle; margin-right:4px;">list</span>
                                    Type
                                </th>
                                <th
                                    style="background-color: var(--primaryColor); border-bottom:1px solid var(--black); font-weight: normal; width:25%;">
                                    <span class="material-symbols-outlined"
                                        style="font-size:13px; vertical-align:middle; margin-right:4px;">task_alt</span>
                                    Grade
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="text-med text-12">
                                <td style="border-right:1px solid var(--black);">September 20</td>
                                <td style="border-right:1px solid var(--black);">Activity #1</td>
                                <td style="border-right:1px solid var(--black); text-align:center;">
                                    <span class="course-badge rounded-pill px-3 text-reg text-12">Task</span>
                                </td>
                                <td>100/100</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>

    <div class="row">
        <!-- Card (mobile only) -->
        <div class="col d-block d-md-none">
            <div class="card p-3 ms-2" style="border: 1px solid var(--black); border-radius: 15px; width: 290px;">
                <div class="d-flex justify-content-between align-items-center">
                    <span class="text-sbold text-16">Activity #1</span>
                    <span class="text-sbold text-16">100/100</span>
                </div>
                <div class="justify-content-start align-items-start">
                    <div class="text-reg text-14 mb-2">September 20</div>
                    <div class="course-badge rounded-pill px-3 text-reg text-12" style="width: 60px;">Task</div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="text-med text-20 my-3">
                Chart
            </div>
        </div>
    </div>
    <div class="row">
        <div class="card p-2 ms-3" style="border: 1px solid var(--black); border-radius: 15px; width:100%;">
            <div class="card-body">
                <div class="chart-container" style="position: relative; width:100%;">
                    <canvas id="myReportChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="text-med text-20 my-3">
                Badges
            </div>
        </div>
    </div>
    <div class="row mx-1">
        <div class="card py-2 py-sm-0" style="border: 1px solid var(--black); border-radius: 15px; width:100%;">

            <div class="col-12 d-flex flex-row align-items-center justify-content-between">

                <!-- Left Side-->
                <div class="d-flex flex-row align-items-center text-sm-start ">

                    <!-- Badge Pics -->
                    <div class="d-flex justify-content-center align-items-center">
                        <img src="shared/assets/img/badge/Badge.png" style="width:60px; height:62px;">
                    </div>

                    <!-- Details -->
                    <div class="ms-2">
                        <div class="text-bold text-16">Ahead of the Curve</div>
                        <div class="text-med text-12">You submitted before the deadline—way to stay ahead!</div>
                    </div>
                </div>

                <!-- Right Side -->
                <div class="text-end" style="line-height: 1.2; margin-right: 15px;">
                    <div class="text-bold text-22">x3</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const ctx = document.getElementById('myReportChart').getContext('2d');

        // ✅ Get font-family and font-size from your global CSS classes
        const fontFamily = getComputedStyle(document.querySelector('.text-reg')).fontFamily;
        const fontSize = parseInt(getComputedStyle(document.querySelector('.text-12')).fontSize, 10);

        const myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],
                datasets: [{
                    label: 'Sample Data',
                    data: [22, 20, 13, 11, 15, 32],
                    borderColor: 'black',
                    borderWidth: 1,
                    pointBackgroundColor: getComputedStyle(document.documentElement).getPropertyValue('--black').trim(),
                    pointBorderColor: getComputedStyle(document.documentElement).getPropertyValue('--highlight75').trim(),
                    pointBorderWidth: 4,
                    pointRadius: 4,
                    pointHoverRadius: 8,
                    fill: false,
                    tension: 0.2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: false,
                        labels: {
                            font: {
                                family: fontFamily,
                                size: fontSize
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        reverse: true,
                        min: 1,
                        max: 50,
                        ticks: {
                            stepSize: 10,
                            font: {
                                family: fontFamily,
                                size: fontSize
                            }
                        },
                        grid: { color: '#ddd' }
                    },
                    x: {
                        offset: true,
                        ticks: {
                            font: {
                                family: fontFamily,
                                size: fontSize
                            }
                        },
                        grid: { color: '#eee', offset: true }
                    }
                }
            }
        });

        // ✅ Force chart to re-render on window resize
        window.addEventListener('resize', () => {
            myChart.resize();
        });
    });
</script>